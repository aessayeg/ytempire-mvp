# Redis Sentinel configuration for high availability
# Based on Redis 7.x Sentinel

# Port
port 26379

# Sentinel announce-ip and announce-port for Docker
# sentinel announce-ip <ip>
# sentinel announce-port <port>

# Master monitoring
# sentinel monitor <master-name> <ip> <redis-port> <quorum>
sentinel monitor ytempire-master redis_primary 6379 1

# Master password
sentinel auth-pass ytempire-master redis_pass

# Master down after (milliseconds)
sentinel down-after-milliseconds ytempire-master 5000

# Failover timeout (milliseconds)  
sentinel failover-timeout ytempire-master 10000

# Parallel syncs during failover
sentinel parallel-syncs ytempire-master 1

# Sentinel working directory
dir /tmp

# Logging
logfile ""
loglevel notice

# Security
requirepass sentinel_pass

# Scripts and notifications (optional)
# sentinel notification-script ytempire-master /path/to/script.sh
# sentinel client-reconfig-script ytempire-master /path/to/script.sh

# Deny dangerous commands
sentinel deny-scripts-reconfig yes

# Other sentinel instances (if running multiple sentinels)
# sentinel known-sentinel ytempire-master <ip> <port>
# sentinel known-replica ytempire-master <ip> <port>

# Sentinel configuration will be rewritten by sentinel itself