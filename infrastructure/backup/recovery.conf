# PostgreSQL Recovery Configuration for Replica
# This file configures the standby server for streaming replication

# Standby mode
standby_mode = 'on'

# Connection to primary server
primary_conninfo = 'host=postgres_primary port=5432 user=replicator password=repl_pass application_name=replica1'

# Recovery target (latest means follow primary indefinitely)
recovery_target_timeline = 'latest'

# Trigger file to promote standby to primary
trigger_file = '/var/lib/postgresql/data/promote'

# Archive recovery settings
restore_command = 'cp /var/lib/postgresql/archive/%f %p'
archive_cleanup_command = 'pg_archivecleanup /var/lib/postgresql/archive %r'

# Recovery end command (optional)
recovery_end_command = 'rm -f /var/lib/postgresql/data/recovery.conf'